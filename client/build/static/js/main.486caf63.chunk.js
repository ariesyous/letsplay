(this.webpackJsonpletsplay=this.webpackJsonpletsplay||[]).push([[0],{141:function(e,t,n){},170:function(e,t,n){},232:function(e,t,n){},233:function(e,t,n){},263:function(e,t,n){},264:function(e,t,n){},270:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},305:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),s=n(14),i=n.n(s),o=(n(232),n(34)),l=n(24),d=(n(233),n(42)),u=n(12),j=n(9),b=n.n(j),p=n(17),h=n(10),m=n(7),O=n(23),v=n.n(O),f=n(19),g=function(){return localStorage.getItem("token")&&localStorage.removeItem("token"),{type:"SIGN_OUT"}},x=function(e){return function(){var t=Object(p.a)(b.a.mark((function t(n){var a,c,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={method:"post",url:"/api/user/login",headers:{"Content-Type":"application/json"},data:e},t.next=4,v()(a);case 4:if(c=t.sent,localStorage.setItem("token",c.data.token),r=JSON.parse(atob(c.data.token.split(".")[1])).user,!c||1!=c.data.response){t.next=11;break}n({type:"SIGN_IN",payload:r}),t.next=13;break;case 11:throw console.log(c.data.message),new Error(c.data.message);case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),f.b.error(t.t0.response.data);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){try{return function(){var t=Object(p.a)(b.a.mark((function t(n){var a,c,r,s,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=localStorage.getItem("token"),a=c?{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}:{"Content-Type":"application/json"},r={method:"post",url:"/api/user/signup",headers:a,data:e},t.next=5,v()(r);case 5:s=t.sent,localStorage.setItem("token",s.data.token),i=JSON.parse(atob(s.data.token.split(".")[1])).user,console.log("The user after signin is: ",i),n({type:"SIGN_IN",payload:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}catch(t){console.log(t)}},E=function(e){return{type:"SIGN_IN",payload:e}},w=function(e){return function(){var t=Object(p.a)(b.a.mark((function t(n){var a,c,r,s,i,o,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/nominatim/getLatLng/".concat(e[0],"/").concat(e[1]),c={method:"get",url:a},console.log("string from setLATLNG ",a),t.prev=3,t.next=6,v()(c);case 6:r=t.sent,s=r.data,console.log(s),s.display_name?((i=s.display_name.split(",")).splice(4,2),i.splice(2,1),o=i.map((function(e,t){return 0===t||t===i.length-1?e:e+","})),l=o.join(""),n({type:"SETLATLNG",payload:{coords:e,address:l}})):n({type:"SETLATLNG",payload:{coords:e,address:""}}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0.message),f.b.error(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},k=function(){return function(){var e=Object(p.a)(b.a.mark((function e(t){var n,a,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"get",url:"/api/getEvents",headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,v()(n);case 4:(a=e.sent)&&!0===a.data.response&&(t({type:"getEvents",payload:a}),(c=localStorage.getItem("token"))&&(r=JSON.parse(atob(c.split(".")[1])).user,t({type:"SIGN_IN",payload:r}))),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),f.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(p.a)(b.a.mark((function t(n){var a,c,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("token"),t.prev=1,c={method:"get",url:"/api/getMyEvents",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}},t.next=5,v()(c);case 5:(r=t.sent)&&!0===r.data.response&&n({type:"toggleMyEvents",payload:{response:r,toggle:e}}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),f.b.error(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(p.a)(b.a.mark((function t(n){var a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"get",url:"/api"+"/getEvent?id=".concat(e),headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,v()(a);case 4:(c=t.sent)&&!0===c.data.response&&n({type:"selectEvent",payload:c.data._doc}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),f.b.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return{type:"selectEvent",payload:e}},S=n(377),T=n(344),_=n(341),L=n(374),M=n(343),D=n(376),A=n(346),F=n(345),P=n(124),B=n.n(P),R=n(59),z=n(81),U=n(339),W=Object(z.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Y=function(e){var t=Object(c.useState)({username:"",password:""}),n=Object(h.a)(t,2),r=n[0],s=n[1],i=W(),o=Object(m.b)(),j=Object(l.f)(),O=Object(m.c)((function(e){return e.user}));Object(c.useEffect)((function(){localStorage.getItem("token")&&!0===O.signedUp&&j.push("/")}));var v=function(){var e=Object(p.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o(x(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){s(Object(u.a)(Object(u.a)({},r),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)(U.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(_.a,{}),Object(a.jsxs)("div",{className:i.paper,children:[Object(a.jsx)(S.a,{className:i.avatar,children:Object(a.jsx)(B.a,{})}),Object(a.jsx)(R.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{className:i.form,noValidate:!0,onSubmit:v,children:[Object(a.jsx)(L.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:f,value:r.username}),Object(a.jsx)(L.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:f,value:r.password}),Object(a.jsx)(M.a,{control:Object(a.jsx)(D.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(a.jsx)(T.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,children:"Sign In"}),Object(a.jsxs)(F.a,{container:!0,children:[Object(a.jsx)(F.a,{item:!0,xs:!0,children:Object(a.jsx)(A.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(A.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]})]})},G=n(373),V=Object(z.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),color:"white",backgroundColor:"#3F51B5","&:hover":{backgroundColor:"#303F9F"}}}}));function J(){var e=Object(m.b)(),t=Object(l.f)(),n=Object(m.c)((function(e){return e.user})),r=Object(c.useState)({username:"",password:"",email:""}),s=Object(h.a)(r,2),i=s[0],o=s[1],j=V();Object(c.useEffect)((function(){localStorage.getItem("token")&&!0===n.signedUp&&t.push("/")}),[n]);var O=function(){var t=Object(p.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault();try{e(y(Object(u.a)(Object(u.a)({},i),{},{signedUp:!0})))}catch(a){console.log(a.message)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(e){o(Object(u.a)(Object(u.a)({},i),{},Object(d.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)(U.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(_.a,{}),Object(a.jsxs)(G.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},className:j.paper,children:[Object(a.jsx)(S.a,{className:j.avatar,sx:{m:1,bgcolor:"secondary.main"},children:Object(a.jsx)(B.a,{})}),Object(a.jsx)(R.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(a.jsxs)(G.a,{className:j.form,component:"form",noValidate:!0,onSubmit:O,sx:{mt:3},children:[Object(a.jsxs)(F.a,{container:!0,spacing:2,children:[Object(a.jsx)(F.a,{item:!0,xs:12,children:Object(a.jsx)(L.a,{autoComplete:"Username",name:"username",required:!0,fullWidth:!0,id:"username",label:"Username",autoFocus:!0,value:i.username,onChange:v})}),Object(a.jsx)(F.a,{item:!0,xs:12,children:Object(a.jsx)(L.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:i.email,onChange:v})}),Object(a.jsx)(F.a,{item:!0,xs:12,children:Object(a.jsx)(L.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:i.password,onChange:v})})]}),Object(a.jsx)(T.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},className:j.submit,children:"Sign Up"}),Object(a.jsx)(F.a,{container:!0,justifyContent:"flex-end",children:Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(A.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}var q=n(308),H=n(348),$=n(347),X=n(191),K=n.n(X);var Q=function(e){var t=Object(l.f)(),n=Object(m.b)();return Object(a.jsxs)(q.a,{style:e.selected?{borderLeft:"solid 3px #3f51b4"}:null,onClick:function(){n(C(e.eventData))},children:[Object(a.jsx)("input",{type:"hidden","data-id":e.eventData._id}),Object(a.jsx)($.a,{children:Object(a.jsx)(S.a,{children:Object(a.jsx)(K.a,{})})}),Object(a.jsx)(H.a,{primary:e.eventData.name,secondary:e.eventData.description,style:{maxHeight:"46px",overflow:"hidden",width:"70%",paddingRight:"20px"}}),Object(a.jsx)(T.a,{size:"small",color:"primary",onClick:function(a){var c;a.preventDefault(),c=e.eventData,n(C(c)),t.push("/event-information?id=".concat(c._id))},children:"Learn More"})]})};var Z=n(342),ee=(n(263),Object(z.a)((function(e){return{root:{width:"100%",maxWidth:930}}})));var te=function(){var e=Object(c.useRef)(null),t=ee(),n=Object(m.b)(),r=Object(m.c)((function(e){return e.eventsInfo}));return console.log(r),Object(c.useEffect)((function(){n(k())}),[]),Object(c.useEffect)((function(){if(e.current){var t=Array.from(e.current.children).find((function(e){return e.children[0]&&e.children[0].getAttribute("data-id")===r.selectedEvent._id}));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}}),[r]),Object(a.jsx)("div",{className:"events",children:Object(a.jsx)(Z.a,{ref:e,className:t.root,children:!1===r.toggleMyEvents?r.events.length>0?r.events.map((function(e){return e.name.toLowerCase().includes(r.searchEvent)&&e.public?Object(a.jsx)(Q,{eventData:e,selected:e._id===r.selectedEvent._id},e._id):""})):Object(a.jsx)("h1",{className:"no-events-message",children:"There are no events"}):r.myEvents.map((function(e){return e.name.toLowerCase().includes(r.searchEvent)&&Object(a.jsx)(Q,{eventData:e,selected:e._id===r.selectedEvent._id},e._id)}))})})},ne=n(6),ae=n(355),ce=(n(264),n(352)),re=n(353),se=(n(170),n(349)),ie=n(350),oe=n(26),le={customMarkerIcon:Object(oe.divIcon)({html:'<span style="'.concat("\n  background-color: #3F51B4;\n  width: 2.5rem;\n  height: 2.5rem;\n  display: block;\n  left: -1.5rem;\n  top: -1.5rem;\n  position: relative;\n  border-radius: 1.5rem 1.5rem 0;\n  transform: rotate(45deg);\n  border: 1px solid #FFFFFF",'">')}),selectedCustomMarkerIcon:Object(oe.divIcon)({html:'<span style="'.concat("\n  background-color: #2bb437;\n  border: solid 2px black;\n  width: 2.5rem;\n  height: 2.5rem;\n  display: block;\n  left: -1.5rem;\n  top: -1.5rem;\n  position: relative;\n  border-radius: 2.5rem 2.5rem 0;\n  transform: rotate(45deg);\n  border: 1px solid #FFFFFF",'">')})},de=function(){var e=Object(se.a)(),t=Object(m.c)((function(e){return e.eventsInfo.selectedEvent.location})),n=t.latitude,r=t.longitude;return Object(c.useEffect)((function(){e.setView([n,r],14)})),Object(a.jsx)(ie.a,{position:[n,r],icon:le.customMarkerIcon})};function ue(){return(ue=Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://ipapi.co/json/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var je=function(){return ue.apply(this,arguments)},be=function(e){var t=Object(m.b)(),n=Object(m.c)((function(e){return e.eventsInfo.createEventLocation})),r=n.lat,s=n.lng,i=Object(se.a)(),o=Object(se.b)({click:function(n){console.log(n),t(w([n.latlng.lat,n.latlng.lng])),e.setLoading(!0)},locationfound:function(e){t(w([e.latlng.lat,e.latlng.lng])),i.setView([e.latlng.lat,e.latlng.lng],16)},locationerror:function(e){return Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:(t=e.sent)&&i.setView([t.latitude,t.longitude],10);case 4:case"end":return e.stop()}}),e)})))()}});return Object(c.useEffect)((function(){o.locate()}),[]),Object(c.useEffect)((function(){e.setLoading(!1)}),[r]),Object(a.jsx)(ie.a,{position:[r,s],icon:le.customMarkerIcon})},pe=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.eventsInfo.selectedEvent.location})),n=t.latitude,r=t.longitude,s=Object(m.c)((function(e){return e.eventsInfo.createEventLocation})),i=s.lat,o=s.lng,l=Object(se.a)();return Object(se.b)({click:function(t){e(w([t.latlng.lat,t.latlng.lng])),l.setView([t.latlng.lat,t.latlng.lng])}}),Object(c.useEffect)((function(){l.setView([n,r],16),e(w([n,r]))}),[]),Object(a.jsx)(ie.a,{position:[i,o],icon:le.customMarkerIcon})},he=n(351),me=n(192),Oe=n.n(me),ve=(n(266),n(30)),fe=n.n(ve),ge=n(109);fe()().format();var xe=function(){var e=Object(m.c)((function(e){return e.eventsInfo})),t=Object(c.useState)([0,0,0,0]),n=Object(h.a)(t,2),r=(n[0],n[1],Object(m.b)()),s=Object(se.a)(),i=Object(se.b)({locationfound:function(e){s.setView([e.latlng.lat,e.latlng.lng],16)},locationerror:function(e){return Object(p.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:(t=e.sent)&&s.setView([t.latitude,t.longitude],10);case 4:case"end":return e.stop()}}),e)})))()}});return Object(c.useEffect)((function(){i.locate()}),[]),Object(c.useEffect)((function(){Object.keys(e.selectedEvent)>0&&s.setView([e.selectedEvent.location.latitude,e.selectedEvent.location.longitude],17)}),[e.selectedEvent]),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Oe.a,{iconCreateFunction:function(e){var t=e.getChildCount();return e.getAllChildMarkers().map((function(e){return e.options.isSelected})).includes("true")?Object(oe.divIcon)({html:"<div>\n              <span>".concat(t,"</span>\n            </div>"),className:"marker-cluster selected"}):Object(oe.divIcon)({html:"<div>\n              <span>".concat(t,"</span>\n            </div>"),className:"marker-cluster"})},spiderLegPolylineOptions:{weight:0,opacity:0},children:[Array.isArray(e.events)&&!1===e.toggleMyEvents&&e.events.map((function(t,n){if(t&&t.public)return Object(a.jsx)(ie.a,{"data-id":t._id,icon:t._id===e.selectedEvent._id?le.selectedCustomMarkerIcon:le.customMarkerIcon,isSelected:t._id===e.selectedEvent._id?"true":"false",position:[t.location.latitude,t.location.longitude],eventHandlers:{click:function(){r(C(t))}},children:Object(a.jsxs)(he.a,{children:[Object(a.jsx)("span",{children:t.name}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:fe()(t.date).format("dddd, MMMM Do YYYY")}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:t.startTime})]})},"event-".concat(n))})),Array.isArray(e.events)&&!0===e.toggleMyEvents&&e.myEvents.map((function(t,n){if(t)return Object(a.jsx)(ie.a,{"data-id":t._id,icon:t._id===e.selectedEvent._id?le.selectedCustomMarkerIcon:le.customMarkerIcon,isSelected:t._id===e.selectedEvent._id?"true":"false",position:[t.location.latitude,t.location.longitude],eventHandlers:{click:function(){r(C(t))}},children:Object(a.jsxs)(he.a,{children:[Object(a.jsx)("span",{children:t.name}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:fe()(t.date).format("dddd, MMMM Do YYYY")}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:t.startTime})]})},"event-".concat(n))}))]},Object(ge.v4)())})},ye=n(354),Ee=function(e){var t=e.type,n=Object(c.useState)(!1),r=Object(h.a)(n,2),s=r[0],i=r[1];return Object(a.jsxs)("div",{className:"map",children:[Object(a.jsxs)(ce.a,{center:[0,0],zoom:2,children:[Object(a.jsx)(re.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),function(){switch(t){case"displayLocation":return Object(a.jsx)(de,{});case"setLocation":return Object(a.jsx)(be,{setLoading:i});case"editLocation":return Object(a.jsx)(pe,{});case"cluster":return Object(a.jsx)(xe,{})}}()]}),s?Object(a.jsx)(ye.a,{color:"primary"}):null]})},we=Object(ne.a)((function(e){return{root:{width:28,height:16,padding:0,display:"flex"},switchBase:{padding:2,color:e.palette.error.light,"&$checked":{transform:"translateX(12px)",color:e.palette.common.white,"& + $track":{opacity:1,backgroundColor:e.palette.primary.main,borderColor:e.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:"none"},track:{border:"1px solid ".concat(e.palette.grey[500]),borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(ae.a);var ke=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.eventsInfo.toggleMyEvents}));return Object(l.f)(),Object(c.useEffect)((function(){e(N(t))}),[]),Object(a.jsxs)("div",{className:"dashboard",children:[Object(a.jsxs)("div",{className:"switchWrapper",children:[Object(a.jsx)("span",{style:{fontSize:"12px",padding:"0 10px"},children:"My Events"}),Object(a.jsx)(we,{checked:!t,onChange:function(n){localStorage.getItem("token")?e(N(!t)):f.b.warning("You currently don't have any events")},name:"publicEvent"}),Object(a.jsx)("span",{style:{fontSize:"12px",padding:"0 10px"},children:"Public Events"})]}),Object(a.jsxs)("div",{className:"list-and-map",children:[Object(a.jsx)(te,{}),Object(a.jsx)("div",{className:"map-wrapper",children:Object(a.jsx)(Ee,{type:"cluster"})})]})]})},Ne=n(25),Ie=n(356),Ce=n(380),Se=(n(270),n(131));fe()().format();var Te=function(){var e=Object(c.useRef)(null),t=Object(l.f)(),n=Object(m.b)(),r=Object(c.useState)(!0),s=Object(h.a)(r,2),i=s[0],o=s[1],d=Object(m.c)((function(e){return e.eventsInfo})).createEventLocation,j=Object(c.useState)(fe()()),O=Object(h.a)(j,2),g=O[0],x=O[1],y=Object(c.useState)(fe()()),E=Object(h.a)(y,2),w=E[0],N=E[1],I=Object(c.useState)(d.address),C=Object(h.a)(I,2),S=C[0],_=C[1],M=Object(c.useState)(!0),D=Object(h.a)(M,2),A=D[0],P=D[1],B=Object(c.useState)({eventNameError:!1,sportNameError:!1,descriptionError:!1}),z=Object(h.a)(B,2),U=z[0],W=z[1];Object(c.useEffect)((function(){_(d.address),P(!1)}),[d]);var Y=function(){var a=Object(p.a)(b.a.mark((function a(c){var r,s,o,l,u;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),!e.current.eventName.value||!e.current.description.value){a.next=19;break}return r={name:e.current.eventName.value,location:{address:d.address,latitude:d.lat,longitude:d.lng},description:e.current.description.value,startTime:w.format("LT"),date:g,public:i},o=localStorage.getItem("token"),s=o?{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)}:{"Content-Type":"application/json"},l={method:"post",data:r,url:"/api/createEvent",headers:s},a.prev=6,a.next=9,v()(l);case 9:(u=a.sent)&&!0===u.data.response?(u.data.token&&localStorage.setItem("token",u.data.token),n(k()),f.b.success("Event has been created"),t.push("/")):console.log(u),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(6),console.log(a.t0),f.b.error("Something went wrong. Please try again later");case 17:a.next=20;break;case 19:W({eventNameError:!0,sportNameError:!0,descriptionError:!0});case 20:case"end":return a.stop()}}),a,null,[[6,13]])})));return function(e){return a.apply(this,arguments)}}(),G=Object(ne.a)((function(e){return{root:{width:28,height:16,padding:0,display:"flex"},switchBase:{padding:2,color:e.palette.error.light,"&$checked":{transform:"translateX(12px)",color:e.palette.primary.main,"& + $track":{opacity:1,backgroundColor:e.palette.common.white,borderColor:e.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:"none"},track:{border:"1px solid ".concat(e.palette.grey[500]),borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(ae.a);return Object(a.jsxs)("div",{className:"create-event",children:[Object(a.jsxs)("form",{ref:e,children:[Object(a.jsxs)(Ne.a,{utils:Se.a,children:[Object(a.jsx)(R.a,{variant:"h4",style:{margin:"0 0 40px 0"},gutterBottom:!0,children:"Create Event"}),Object(a.jsxs)(F.a,{container:!0,spacing:3,children:[Object(a.jsx)(F.a,{item:!0,xs:12,children:Object(a.jsxs)(F.a,{component:"label",container:!0,alignItems:"center",spacing:1,children:[Object(a.jsx)(F.a,{item:!0,children:"Private"}),Object(a.jsx)(F.a,{item:!0,children:Object(a.jsx)(G,{checked:i,onChange:function(e){o(!i)},name:"publicEvent"})}),Object(a.jsx)(F.a,{item:!0,children:"Public"})]})}),Object(a.jsx)(F.a,{item:!0,xs:12,children:Object(a.jsx)(L.a,{required:!0,id:"eventName",name:"eventName",error:U.eventNameError,label:"Event Name",fullWidth:!0,autoComplete:"given-name",onChange:function(e){e.target.value&&W(Object(u.a)(Object(u.a)({},U),{},{eventNameError:!1}))},onBlur:function(e){e.target.value?W(Object(u.a)(Object(u.a)({},U),{},{eventNameError:!1})):W(Object(u.a)(Object(u.a)({},U),{},{eventNameError:!0}))}})}),Object(a.jsx)(F.a,{item:!0,xs:6,children:Object(a.jsx)(Ie.a,{margin:"normal",id:"date-picker-dialog",label:"Date",format:"MM/DD/yyyy",value:g,onChange:function(e){x(e)},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(a.jsx)(F.a,{item:!0,xs:6,children:Object(a.jsx)(Ce.a,{margin:"normal",id:"time-picker",label:"Start Time",value:w,onChange:function(e){N(e)},KeyboardButtonProps:{"aria-label":"change time"}})}),Object(a.jsxs)(F.a,{item:!0,xs:12,children:[Object(a.jsx)(L.a,{required:!0,id:"address",name:"address",label:"Address",fullWidth:!0,autoComplete:"address",value:S,onChange:function(e){_(e.target.value)},onBlur:function(e){P(!0),n(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(n){var a,c,r,s,i,o,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/nominatim/setLatLng/".concat(e),c={method:"get",url:a},t.prev=2,t.next=5,v()(c);case 5:r=t.sent,s=r.data,console.log(s),s[0].display_name?((i=s[0].display_name.split(",")).splice(4,2),i.splice(2,1),o=i.map((function(e,t){return 0===t||t===i.length-1?e:e+","})),l=o.join(""),n({type:"SETLATLNG",payload:{coords:[s[0].lat,s[0].lon],address:l}})):n({type:"SETLATLNG",payload:{coords:[0,0],address:""}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),f.b.error(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()}(S))}}),A?Object(a.jsx)(ye.a,{color:"primary"}):null]}),Object(a.jsx)(F.a,{item:!0,xs:12,children:Object(a.jsx)(L.a,{required:!0,id:"description",name:"description",error:U.descriptionError,label:"Event Description",fullWidth:!0,multiline:!0,onChange:function(e){e.target.value&&W(Object(u.a)(Object(u.a)({},U),{},{descriptionError:!1}))},onBlur:function(e){e.target.value?W(Object(u.a)(Object(u.a)({},U),{},{descriptionError:!1})):W(Object(u.a)(Object(u.a)({},U),{},{descriptionError:!0}))}})})]})]}),Object(a.jsx)(T.a,{variant:"contained",style:{margin:"40px 0 0 0",backgroundColor:"#3f51b4",color:"rgb(240, 240, 240)"},onClick:Y,children:"Create Event"})]}),Object(a.jsx)("div",{className:"mapHolder",children:Object(a.jsx)(Ee,{type:"setLocation"})})]})},_e=n(193),Le=(n(141),n(375));function Me(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var De=Object(z.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),display:"flex",flexDirection:"column","@media (max-width: 1000px)":{width:200}}}}));function Ae(e){var t=De(),n=r.a.useState(Me),s=Object(h.a)(n,1)[0],i=r.a.useState(!1),o=Object(h.a)(i,2),l=o[0],d=o[1],u=r.a.useState(!1),j=Object(h.a)(u,2),O=j[0],g=j[1],x=Object(m.b)(),y=Object(c.useRef)(null),E=function(){d(!1)},w=Object(a.jsxs)("div",{style:s,className:t.paper,children:[Object(a.jsx)("h2",{id:"simple-modal-title",children:"What name should we use?"}),Object(a.jsx)(L.a,{error:O,id:"standard-basic",label:"username",inputRef:y,inputProps:{maxLength:15}}),Object(a.jsx)("button",{style:{marginTop:"20px"},onClick:function(){if(y.current.value){var t={participantsName:y.current.value,id:e.eventId};x(function(e){return function(){var t=Object(p.a)(b.a.mark((function t(n){var a,c,r,s,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=localStorage.getItem("token"),a=c?{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}:{"Content-Type":"application/json"},r={method:"PUT",url:"/api/joinEvent",headers:a,data:e},t.prev=3,t.next=6,v()(r);case 6:s=t.sent,console.log(s.data),s&&!0===s.data.response?(s.data.token&&(localStorage.setItem("token",s.data.token),i=JSON.parse(atob(s.data.token.split(".")[1])).user,n({type:"SIGN_IN",payload:i})),n({type:"selectEvent",payload:s.data._doc}),f.b.success("You have joined this event as ".concat(e.participantsName))):f.b.warn(s.data.message),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0),f.b.error("Something went wrong! Please try again later");case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()}(t)),e.setJoined(!0),E()}else g(!0)},children:"Join Event"})]});return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:e.btnStyle,type:"button",onClick:function(){d(!0)},disabled:e.disabled,children:e.children}),Object(a.jsx)(Le.a,{open:l,onClose:E,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:w})]})}var Fe=n(358),Pe=n(196),Be=n.n(Pe),Re=n(197),ze=n.n(Re),Ue=n(74),We=n.n(Ue);var Ye=function(e){var t=e.eventInfo,n=We.a.getSocket(),r=Object(m.c)((function(e){return e.user})),s=Object(c.useState)(t.selectedEvent.participants),i=Object(h.a)(s,2),o=i[0],l=i[1],d=Object(m.b)();function u(e){var n;d((n={participantId:e.currentTarget.getAttribute("data-id"),selectedEventId:t.selectedEvent._id},function(){var e=Object(p.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"delete",url:"/api/removeParticipant",headers:{"Content-Type":"application/json"},data:n},e.prev=1,e.next=4,v()(a);case 4:(c=e.sent)&&!0===c.data.response?(t({type:"selectEvent",payload:c.data.updatedEvent}),f.b.success("You have left this event")):f.b.warn(c.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f.b.error("Something went wrong! Please try again later");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}return Object(c.useEffect)((function(){return n.on("update participants",(function(e){l(e)})),function(){n.off("update participants")}}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Participants"}),Object(a.jsx)(Z.a,{component:"nav","aria-label":"contacts",children:o&&o.map((function(e,n){return Object(a.jsx)("div",{children:Object(a.jsxs)(q.a,{style:{backgroundColor:"white"},children:[Object(a.jsx)(Fe.a,{children:Object(a.jsx)(Be.a,{})}),Object(a.jsx)(H.a,{primary:e.name}),r.id.includes(e.userId)||r.id===t.selectedEvent.creator?Object(a.jsx)("div",{className:"remove-icon-wrapper","data-id":e.userId,onClick:u,children:Object(a.jsx)(ze.a,{})}):null]})},n)}))})]})},Ge=n(359),Ve=n(361),Je=n(363),qe=n(365),He=n(367),$e=n(360),Xe=n(362),Ke=n(364),Qe=n(366),Ze=n(368);n(302);var et=function(e){var t=e.eventId,n="https://www.letsplay.gdn/event-information?id=".concat(t);return Object(c.useRef)(null),Object(a.jsx)("div",{className:"share",children:Object(a.jsxs)("div",{className:"share-button-wrapper",children:[Object(a.jsx)(Ge.a,{url:n,children:Object(a.jsx)($e.a,{size:45,round:!0})}),Object(a.jsx)(Ve.a,{url:n,children:Object(a.jsx)(Xe.a,{size:45,round:!0})}),Object(a.jsx)(Je.a,{url:n,children:Object(a.jsx)(Ke.a,{size:45,round:!0})}),Object(a.jsx)(qe.a,{url:n,children:Object(a.jsx)(Qe.a,{size:45,round:!0})}),Object(a.jsx)(He.a,{url:n,children:Object(a.jsx)(Ze.a,{size:45,round:!0})})]})})},tt=n(204),nt=n(307),at=n(369),ct=n(370),rt=n(199),st=n.n(rt),it=Object(z.a)({chatSection:{width:"100%",height:"80vh"},headBG:{backgroundColor:"#e0e0e0"},borderRight500:{borderRight:"1px solid #e0e0e0"},messageArea:{height:"70vh",overflowY:"auto"},bubble:{margin:"10px auto",width:"98%"}}),ot=function(e){var t=e.selectedEvent,n=e.userInfo,r=Object(c.useRef)(),s=We.a.getSocket(),i=it(),o=Object(c.useState)([]),l=Object(h.a)(o,2),d=l[0],u=l[1],j=Object(c.useState)(""),b=Object(h.a)(j,2),p=b[0],m=b[1];Object(c.useEffect)((function(){s.on("message",(function(e){u((function(t){return[].concat(Object(tt.a)(t),[e])}))})),s.on("denied",(function(e){f.b.warning(e)})),u(t.messages)}),[]),Object(c.useEffect)((function(){r.current.scrollTo(0,r.current.scrollHeight)}),[r.current,d]);var O=function(e){e.preventDefault(),s.emit("sendMessage",{eventId:t._id,message:p,user:n,time:fe()().format("hh:mm A")}),m("")};return Object(a.jsx)("div",{className:"chat",children:Object(a.jsx)(F.a,{container:!0,component:nt.a,className:i.chatSection,children:Object(a.jsxs)(F.a,{item:!0,xs:12,children:[Object(a.jsx)(Z.a,{className:"".concat(i.messageArea," message-list"),ref:r,children:d.map((function(e){return e.user===(null===n||void 0===n?void 0:n.userId)?Object(a.jsx)(q.a,{className:i.bubble,children:Object(a.jsxs)(F.a,{container:!0,children:[Object(a.jsx)(F.a,{item:!0,xs:10,children:Object(a.jsx)(H.a,{align:"right",primary:e.message})}),Object(a.jsx)(F.a,{item:!0,xs:2,children:Object(a.jsx)(H.a,{align:"right",primary:e.name,secondary:e.time})})]})},Object(ge.v4)()):Object(a.jsx)(q.a,{className:i.bubble,children:Object(a.jsxs)(F.a,{container:!0,children:[Object(a.jsx)(F.a,{item:!0,xs:2,children:Object(a.jsx)(H.a,{align:"left",primary:e.name,secondary:e.time})}),Object(a.jsx)(F.a,{item:!0,xs:10,children:Object(a.jsx)(H.a,{align:"left",primary:e.message})})]})},Object(ge.v4)())}))}),Object(a.jsx)(at.a,{}),Object(a.jsxs)(F.a,{container:!0,style:{padding:"20px"},children:[Object(a.jsx)(F.a,{item:!0,xs:11,children:Object(a.jsx)("form",{onSubmit:O,children:Object(a.jsx)(L.a,{id:"outlined-basic-email",label:"Type Something",fullWidth:!0,value:p,onChange:function(e){m(e.target.value)},autoComplete:"off"})})}),Object(a.jsx)(F.a,{xs:1,align:"right",onClick:O,children:Object(a.jsx)(ct.a,{color:"primary","aria-label":"add",children:Object(a.jsx)(st.a,{})})})]})]})})})};fe()().format();var lt=function(e){var t=Object(c.useState)(!1),n=Object(h.a)(t,2),r=n[0],s=n[1],i=Object(m.c)((function(e){return e.user}));return Object(c.useEffect)((function(){var t=e.eventInfo.selectedEvent.participants.find((function(e){return i.id.includes(e.userId)}));-1!==t&&s(t)}),[e.eventInfo]),Object(a.jsx)(a.Fragment,{children:e.eventInfo.selectedEvent&&Object.keys(e.eventInfo.selectedEvent).length>0?Object(a.jsxs)("div",{className:"body-container",children:[Object(a.jsx)("div",{className:"map-wrapper",children:Object(a.jsx)(Ee,{type:"displayLocation"})}),Object(a.jsxs)("div",{className:"event-details",children:[Object(a.jsx)("p",{className:"description-wrapper",children:e.eventInfo.selectedEvent.description}),Object(a.jsxs)("div",{className:"time-public-wrapper",children:[Object(a.jsxs)("div",{className:"address-wrapper",children:["Address:",Object(a.jsxs)("span",{children:[" ",e.eventInfo.selectedEvent.location.address]})]}),Object(a.jsxs)("div",{className:"date-wrapper",children:["Date:",Object(a.jsxs)("span",{children:[" ",fe()(e.eventInfo.selectedEvent.date).format("dddd, MMMM Do YYYY")]})]}),Object(a.jsxs)("div",{className:"time-wrapper",children:["Start time:",Object(a.jsxs)("span",{children:[" ",e.eventInfo.selectedEvent.startTime]})]}),Object(a.jsx)("div",{className:"public-wrapper",children:Object(a.jsxs)("span",{children:["This is a",e.eventInfo.selectedEvent.public?Object(a.jsx)("span",{style:{color:"blue"},children:" public "}):Object(a.jsx)("span",{style:{color:"red"},children:" private "}),"event"]})})]})]}),Object(a.jsxs)("div",{className:"button-wrapper",children:[Object(a.jsx)(Ae,{btnStyle:"success-btn",eventId:e.eventInfo.selectedEvent._id,disabled:r,setJoined:s,children:"JOIN"}),e.admin?Object(a.jsxs)("div",{className:"admin-btns",children:[Object(a.jsx)(T.a,{onClick:e.handleEdit,children:"Edit"}),Object(a.jsx)(T.a,{className:"warning-btn",onClick:e.handleDelete,children:"Delete"})]}):""]}),Object(a.jsx)(ot,{selectedEvent:e.eventInfo.selectedEvent,userInfo:r})]}):""})};var dt=function(e){var t=Object(m.c)((function(e){return e.eventsInfo})),n=Object(m.b)(),r=Object(l.f)(),s=Object(c.useState)(e.eventInfo.selectedEvent.public),i=Object(h.a)(s,2),o=i[0],d=i[1],u=Object(m.c)((function(e){return e.eventsInfo})).createEventLocation,j=Object(c.useState)(fe()()),O=Object(h.a)(j,2),f=(O[0],O[1],Object(c.useState)(fe()(e.eventInfo.selectedEvent.startTime,"HH:mm A"))),g=Object(h.a)(f,2),x=g[0],y=g[1],E=Object(c.useState)(e.eventInfo.selectedEvent.name),w=Object(h.a)(E,2),k=w[0],N=w[1],C=Object(c.useState)(e.eventInfo.selectedEvent.description),S=Object(h.a)(C,2),_=S[0],M=S[1];Object(c.useEffect)((function(){0===Object.keys(t.selectedEvent).length&&n(I(r.location.search.split("=")[1]))}),[]);var D=function(){var t=Object(p.a)(b.a.mark((function t(){var a,c,r,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.eventInfo.selectedEvent._id,name:k,location:{address:e.eventInfo.selectedEvent.location.address,latitude:u.lat,longitude:u.lng},description:_,startTime:x.format("LT"),public:o},c=localStorage.getItem("token"),r={method:"put",data:a,url:"/api/updateEvent",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},t.prev=3,t.next=6,v()(r);case 6:(s=t.sent)&&!0===s.data.response&&(n(I(s.data._doc._id)),e.toggleEditMode()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),A=Object(ne.a)((function(e){return{root:{width:28,height:16,padding:0,margin:10},switchBase:{padding:2,color:e.palette.error.light,"&$checked":{transform:"translateX(12px)",color:e.palette.primary.main,"& + $track":{opacity:1,backgroundColor:e.palette.common.white,borderColor:e.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:"none"},track:{border:"1px solid ".concat(e.palette.grey[500]),borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(ae.a);return Object(a.jsx)(a.Fragment,{children:e.eventInfo.selectedEvent&&Object.keys(e.eventInfo.selectedEvent).length>0?Object(a.jsx)("div",{className:"body-container",children:Object(a.jsxs)(Ne.a,{utils:Se.a,children:[Object(a.jsx)("div",{children:Object(a.jsx)(L.a,{required:!0,id:"eventName",name:"eventName",label:"Event Name",value:k,onChange:function(e){N(e.target.value)},fullWidth:!0,autoComplete:"given-name"})}),Object(a.jsx)(L.a,{required:!0,id:"description",name:"description",label:"Event Description",value:_,onChange:function(e){M(e.target.value)},fullWidth:!0}),Object(a.jsxs)("div",{className:"time-public-wrapper",children:[Object(a.jsx)("div",{className:"time-wrapper",children:Object(a.jsx)(Ce.a,{margin:"normal",id:"time-picker",label:"Start Time",value:x,onChange:function(e){y(e)},KeyboardButtonProps:{"aria-label":"change time"}})}),Object(a.jsxs)("div",{className:"public-wrapper",children:[Object(a.jsx)("span",{children:"Private"}),Object(a.jsx)(A,{checked:o,onChange:function(e){d(!o)},name:"publicEvent"}),Object(a.jsx)("span",{children:"Public"})]})]}),Object(a.jsx)("div",{className:"map-wrapper",children:Object(a.jsx)(Ee,{type:"editLocation"})}),Object(a.jsxs)("div",{className:"button-wrapper",children:[Object(a.jsx)(T.a,{onClick:D,children:"Update"}),Object(a.jsx)(T.a,{className:"warning-btn",onClick:function(){e.toggleEditMode()},children:"Cancel"})]})]})}):""})};var ut=function(){var e=We.a.getSocket(),t=Object(m.c)((function(e){return e.eventsInfo})),n=Object(m.c)((function(e){return e.user})),r=Object(c.useState)(!1),s=Object(h.a)(r,2),i=s[0],o=s[1],d=Object(c.useState)(!1),u=Object(h.a)(d,2),j=u[0],O=u[1],g=Object(m.b)(),x=Object(l.f)();Object(c.useEffect)((function(){0===Object.keys(t.selectedEvent).length&&g(I(x.location.search.split("=")[1]))}),[]),Object(c.useEffect)((function(){t.selectedEvent._id&&e.emit("join room",t.selectedEvent._id),n.id.includes(t.selectedEvent.creator)?O(!0):O(!1)}),[t]);var y=function(){o(!i)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(_e.a,{children:[Object(a.jsx)("meta",{charSet:"utf-8"}),Object(a.jsx)("meta",{name:"description",content:"Inviting you to join "+t.selectedEvent.name+" with Lets Play"})]}),t.selectedEvent&&Object.keys(t.selectedEvent).length>0?Object(a.jsxs)("div",{className:"eventInformation",children:[Object(a.jsxs)("div",{className:"event-header",children:[Object(a.jsx)("span",{children:t.selectedEvent.name}),Object(a.jsx)(et,{eventId:x.location.search.split("=")[1]})]}),Object(a.jsx)("div",{className:"sidebar",children:Object(a.jsx)("div",{className:"participants-wrapper",children:Object(a.jsx)(Ye,{eventInfo:t})})}),i?Object(a.jsx)(dt,{eventInfo:t,toggleEditMode:y}):Object(a.jsx)(lt,{eventInfo:t,admin:j,handleEdit:y,handleDelete:function(){var e;g((e={id:t.selectedEvent._id},function(){var t=Object(p.a)(b.a.mark((function t(n){var a,c,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage.getItem("token"),c={method:"delete",url:"/api/deleteEvent",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:e},t.prev=2,t.next=5,v()(c);case 5:(r=t.sent)&&!0===r.data.response?(n({type:"deleteEvent",payload:r.data._doc}),f.b.success("You have deleted ".concat(r.data.name))):f.b.warn(r.data.message),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),f.b.error("Something went wrong! Please try again later");case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}())),x.push("/")}})]}):""]})},jt=(n(303),n(18)),bt=n(372),pt=n(357),ht=n(207),mt=n(378),Ot=n(371),vt=n(205),ft=n(200),gt=n.n(ft),xt=n(202),yt=n.n(xt),Et=n(201),wt=n.n(Et),kt=Object(z.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(d.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(jt.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(jt.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));var Nt=function(){var e=Object(m.b)(),t=Object(l.f)(),n=(Object(m.c)((function(e){return e.eventsInfo})),Object(m.c)((function(e){return e.user}))),c=kt(),s=r.a.useState(null),i=Object(h.a)(s,2),d=i[0],u=i[1],j=r.a.useState(null),b=Object(h.a)(j,2),p=b[0],O=b[1],v=Boolean(d),f=Boolean(p),x=function(){O(null)},y=function(){u(null),x()},E=function(){t.push("/create-event")},w=Object(a.jsxs)(vt.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:y,children:[Object(a.jsx)(Ot.a,{onClick:y,children:"Profile"}),Object(a.jsx)(Ot.a,{onClick:y,children:"My account"})]}),k="primary-search-account-menu-mobile",N=Object(a.jsx)(vt.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:k,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:x,children:Object(a.jsx)(Ot.a,{onClick:E,children:"Create Event"})});return Object(a.jsx)("div",{className:"navbar",children:Object(a.jsxs)("div",{className:c.grow,children:[Object(a.jsx)(bt.a,{position:"static",children:Object(a.jsxs)(pt.a,{children:[Object(a.jsx)(R.a,{className:c.title,variant:"h6",noWrap:!0,children:Object(a.jsx)(o.b,{to:"/",style:{textDecoration:"none",color:"white"},children:"LetsPlay!"})}),Object(a.jsxs)("div",{className:c.search,children:[Object(a.jsx)("div",{className:c.searchIcon,children:Object(a.jsx)(gt.a,{})}),Object(a.jsx)(mt.a,{placeholder:"Search\u2026",onChange:function(t){e({type:"SEARCH_EVENT",payload:t.target.value.toLowerCase()})},classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"}})]}),Object(a.jsx)("div",{className:c.grow}),Object(a.jsx)("div",{className:"user-icon-or-login",children:n.signedUp?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(wt.a,{}),Object(a.jsxs)("span",{children:[" ",n.username," "]}),Object(a.jsx)(T.a,{onClick:function(){e(g())},children:"Logout"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(o.b,{to:"/login",children:"Login"}),Object(a.jsx)(o.b,{to:"/signup",children:"Sign Up"})]})}),Object(a.jsx)("div",{className:c.sectionDesktop,children:"/create-event"!=t.location.pathname?Object(a.jsx)(T.a,{variant:"contained",color:"primary",onClick:E,children:"Create Event"}):""}),Object(a.jsx)("div",{className:c.sectionMobile,children:Object(a.jsx)(ht.a,{"aria-label":"show more","aria-controls":k,"aria-haspopup":"true",onClick:function(e){O(e.currentTarget)},color:"inherit",children:Object(a.jsx)(yt.a,{})})})]})}),N,w]})})};n(304);We.a.init();var It=function(){var e=Object(m.b)();return v.a.defaults.withCredentials=!0,Object(c.useEffect)((function(){var t=localStorage.getItem("token");if(t){var n=JSON.parse(atob(t.split(".")[1])).user;e(E(n))}}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(f.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsxs)(o.a,{children:[Object(a.jsx)(Nt,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(ke,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/login",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/signup",children:Object(a.jsx)(J,{})}),Object(a.jsx)(l.a,{path:"/create-event",children:Object(a.jsx)(Te,{})}),Object(a.jsx)(l.a,{path:"/event-information",children:Object(a.jsx)(ut,{})})]})]})]})},Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,383)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},St=n(83),Tt=n(203),_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:"",signedUp:!1,id:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return{username:t.payload.username,id:t.payload._id,signedUp:t.payload.signedUp};case"SIGN_OUT":return{signedUp:!1,username:"",id:""};default:return e}},Lt={events:[],selectedEvent:{},myEvents:[],toggleMyEvents:!1,createEventLocation:{lat:0,lng:0,address:""},searchEvent:""},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_EVENT":return Object(u.a)(Object(u.a)({},e),{},{searchEvent:t.payload});case"SETLATLNG":return Object(u.a)(Object(u.a)({},e),{},{createEventLocation:{lat:t.payload.coords[0],lng:t.payload.coords[1],address:t.payload.address}});case"getEvents":return Object(u.a)(Object(u.a)({},e),{},{events:t.payload.data.events});case"selectEvent":return Object(u.a)(Object(u.a)({},e),{},{selectedEvent:t.payload});case"deleteEvent":return Object(u.a)({},e);case"toggleMyEvents":return Object(u.a)(Object(u.a)({},e),{},{toggleMyEvents:t.payload.toggle,myEvents:t.payload.response.data.myEvents});default:return e}},Dt=Object(St.c)({user:_t,eventsInfo:Mt}),At=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Object(St.d)(Dt,Object(St.a)(Tt.a)));i.a.render(Object(a.jsx)(m.a,{store:At,children:Object(a.jsx)(It,{})}),document.getElementById("root")),Ct()},74:function(e,t,n){var a,c=n(271);e.exports={init:function(){return a=c("/")},getSocket:function(){return a}}}},[[305,1,2]]]);
//# sourceMappingURL=main.486caf63.chunk.js.map