(this.webpackJsonpletsplay=this.webpackJsonpletsplay||[]).push([[0],{132:function(e,t,n){},161:function(e,t,n){},229:function(e,t,n){},230:function(e,t,n){},260:function(e,t,n){},261:function(e,t,n){},267:function(e,t,n){},299:function(e,t,n){},300:function(e,t,n){},302:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),s=n(16),i=n.n(s),o=(n(229),n(40)),l=n(25),d=(n(230),n(9)),u=n.n(d),j=n(18),p=n(8),b=n(22),v=n.n(b),h=n(24),O=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c,r,s,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/nominatim/getLatLng/".concat(e[0],"/").concat(e[1]),c={method:"get",url:a},console.log("string from setLATLNG ",a),t.prev=3,t.next=6,v()(c);case 6:r=t.sent,s=r.data,console.log(s),s.display_name?((i=s.display_name.split(",")).splice(4,2),i.splice(2,1),o=i.map((function(e,t){return 0===t||t===i.length-1?e:e+","})),l=o.join(""),n({type:"SETLATLNG",payload:{coords:e,address:l}})):n({type:"SETLATLNG",payload:{coords:e,address:""}}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0.message),h.b.error(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"get",url:"/api/getEvents",headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,v()(n);case 4:(a=e.sent)&&!0===a.data.response&&t({type:"getEvents",payload:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),h.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"get",url:"/api/getMyEvents",headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,v()(a);case 4:(c=t.sent)&&!0===c.data.response&&n({type:"toggleMyEvents",payload:{response:c,toggle:e}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),h.b.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"get",url:"/api"+"/getEvent?id=".concat(e),headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,v()(a);case 4:(c=t.sent)&&!0===c.data.response&&n({type:"selectEvent",payload:c.data._doc}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),h.b.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return{type:"selectEvent",payload:e}},y=n(383),E=n(351),w=(n(347),n(379)),k=(n(350),n(381),n(353),n(352)),N=(n(182),n(60)),C=n(77);n(345),Object(C.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var I=n(304),S=n(355),L=n(354),M=n(193),T=n.n(M),_=n(185),D=n.n(_),F=n(183),P=n.n(F),A=n(186),R=n.n(A),B=n(187),Y=n.n(B),$=n(188),z=n.n($),V=n(184),G=n.n(V),H=n(189),W=n.n(H),J=n(190),q=n.n(J),K=n(191),X=n.n(K),U=n(192),Q=n.n(U);var Z=function(e){var t=Object(l.f)(),n=Object(p.b)();return Object(a.jsxs)(I.a,{style:e.selected?{border:"solid 3px #c5ffc5",background:"#daffda"}:null,onClick:function(){n(g(e.eventData))},children:[Object(a.jsx)("input",{type:"hidden","data-id":e.eventData._id}),Object(a.jsx)(L.a,{children:Object(a.jsx)(y.a,{children:function(){switch(e.eventData.type.toLowerCase()){case"soccer":return Object(a.jsx)(P.a,{});case"hockey":return Object(a.jsx)(G.a,{});case"baseball":return Object(a.jsx)(D.a,{});case"football":return Object(a.jsx)(R.a,{});case"basketball":return Object(a.jsx)(Y.a,{});case"cricket":return Object(a.jsx)(z.a,{});case"rugby":return Object(a.jsx)(W.a,{});case"volleyball":return Object(a.jsx)(q.a,{});case"golf":return Object(a.jsx)(X.a,{});case"handball":return Object(a.jsx)(Q.a,{});default:return Object(a.jsx)(T.a,{})}}()})}),Object(a.jsx)(S.a,{primary:e.eventData.name,secondary:e.eventData.description,style:{maxHeight:"66px",overflow:"hidden",width:"70%",paddingRight:"20px"}}),Object(a.jsx)(E.a,{size:"small",color:"primary",onClick:function(a){var c;a.preventDefault(),c=e.eventData,n(g(c)),t.push("/event-information?id=".concat(c._id))},children:"Learn More"})]})};var ee=n(349),te=(n(260),Object(C.a)((function(e){return{root:{width:"100%",maxWidth:930,backgroundColor:e.palette.background.paper}}})));var ne=function(){var e=Object(c.useRef)(null),t=te(),n=Object(p.b)(),r=Object(p.c)((function(e){return e.eventsInfo}));return Object(c.useEffect)((function(){n(m())}),[]),Object(c.useEffect)((function(){var t=Array.from(e.current.children).find((function(e){return e.children[0].getAttribute("data-id")===r.selectedEvent._id}));t&&t.scrollIntoView({behavior:"smooth",block:"start"})}),[r]),Object(a.jsx)("div",{className:"events",children:Object(a.jsx)(ee.a,{ref:e,className:t.root,children:!1===r.toggleMyEvents?r.events.map((function(e){return e.name.toLowerCase().includes(r.searchEvent)&&e.public?Object(a.jsx)(Z,{eventData:e,selected:e._id===r.selectedEvent._id},e._id):""})):r.myEvents.map((function(e){return e.name.toLowerCase().includes(r.searchEvent)&&Object(a.jsx)(Z,{eventData:e,selected:e._id===r.selectedEvent._id},e._id)}))})})},ae=n(6),ce=n(362),re=(n(261),n(14)),se=n(359),ie=n(360),oe=(n(161),n(356)),le=n(357),de=n(27),ue={customMarkerIcon:Object(de.divIcon)({html:'<span style="'.concat("\n  background-color: #3F51B4;\n  width: 2.5rem;\n  height: 2.5rem;\n  display: block;\n  left: -1.5rem;\n  top: -1.5rem;\n  position: relative;\n  border-radius: 1.5rem 1.5rem 0;\n  transform: rotate(45deg);\n  border: 1px solid #FFFFFF",'">')}),selectedCustomMarkerIcon:Object(de.divIcon)({html:'<span style="'.concat("\n  background-color: #2bb437;\n  border: solid 2px black;\n  width: 2.5rem;\n  height: 2.5rem;\n  display: block;\n  left: -1.5rem;\n  top: -1.5rem;\n  position: relative;\n  border-radius: 2.5rem 2.5rem 0;\n  transform: rotate(45deg);\n  border: 1px solid #FFFFFF",'">')})},je=function(){var e=Object(oe.a)(),t=Object(p.c)((function(e){return e.eventsInfo.selectedEvent.location})),n=t.latitude,r=t.longitude;return Object(c.useEffect)((function(){e.setView([n,r],14)})),Object(a.jsx)(le.a,{position:[n,r],icon:ue.customMarkerIcon})};function pe(){return(pe=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://ipapi.co/json/");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var be=function(){return pe.apply(this,arguments)},ve=function(e){var t=Object(p.b)(),n=Object(p.c)((function(e){return e.eventsInfo.createEventLocation})),r=n.lat,s=n.lng,i=Object(oe.a)(),o=Object(oe.b)({click:function(n){t(O([n.latlng.lat,n.latlng.lng])),e.setLoading(!0),i.setView([n.latlng.lat,n.latlng.lng])},locationfound:function(e){t(O([e.latlng.lat,e.latlng.lng])),i.setView([e.latlng.lat,e.latlng.lng],16)},locationerror:function(e){return Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:(t=e.sent)&&i.setView([t.latitude,t.longitude],10);case 4:case"end":return e.stop()}}),e)})))()}});return Object(c.useEffect)((function(){o.locate()}),[]),Object(c.useEffect)((function(){e.setLoading(!1)}),[r]),Object(a.jsx)(le.a,{position:[r,s],icon:ue.customMarkerIcon})},he=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.eventsInfo.selectedEvent.location})),n=t.latitude,r=t.longitude,s=Object(p.c)((function(e){return e.eventsInfo.createEventLocation})),i=s.lat,o=s.lng,l=Object(oe.a)();return Object(oe.b)({click:function(t){e(O([t.latlng.lat,t.latlng.lng])),l.setView([t.latlng.lat,t.latlng.lng])}}),Object(c.useEffect)((function(){l.setView([n,r],16),e(O([n,r]))}),[]),Object(a.jsx)(le.a,{position:[i,o],icon:ue.customMarkerIcon})},Oe=n(358),me=n(194),fe=n.n(me),xe=(n(263),n(34)),ge=n.n(xe),ye=n(195);ge()().format();var Ee=function(){var e=Object(p.c)((function(e){return e.eventsInfo})),t=Object(c.useState)([0,0,0,0]),n=Object(re.a)(t,2),r=(n[0],n[1],Object(p.b)()),s=Object(oe.a)(),i=Object(oe.b)({locationfound:function(e){s.setView([e.latlng.lat,e.latlng.lng],16)},locationerror:function(e){return Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be();case 2:(t=e.sent)&&s.setView([t.latitude,t.longitude],10);case 4:case"end":return e.stop()}}),e)})))()}});return Object(c.useEffect)((function(){i.locate()}),[]),Object(c.useEffect)((function(){Object.keys(e.selectedEvent)>0&&s.setView([e.selectedEvent.location.latitude,e.selectedEvent.location.longitude],17)}),[e.selectedEvent]),Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(fe.a,{iconCreateFunction:function(e){var t=e.getChildCount();return e.getAllChildMarkers().map((function(e){return e.options.isSelected})).includes("true")?Object(de.divIcon)({html:"<div>\n              <span>".concat(t,"</span>\n            </div>"),className:"marker-cluster selected"}):Object(de.divIcon)({html:"<div>\n              <span>".concat(t,"</span>\n            </div>"),className:"marker-cluster"})},spiderLegPolylineOptions:{weight:0,opacity:0},children:[Array.isArray(e.events)&&!1===e.toggleMyEvents&&e.events.map((function(t,n){if(t&&t.public)return Object(a.jsx)(le.a,{"data-id":t._id,icon:t._id===e.selectedEvent._id?ue.selectedCustomMarkerIcon:ue.customMarkerIcon,isSelected:t._id===e.selectedEvent._id?"true":"false",position:[t.location.latitude,t.location.longitude],eventHandlers:{click:function(){r(g(t))}},children:Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)("span",{children:t.name}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:ge()(t.date).format("dddd, MMMM Do YYYY")}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:t.startTime})]})},"event-".concat(n))})),Array.isArray(e.events)&&!0===e.toggleMyEvents&&e.myEvents.map((function(t,n){if(t)return Object(a.jsx)(le.a,{"data-id":t._id,icon:t._id===e.selectedEvent._id?ue.selectedCustomMarkerIcon:ue.customMarkerIcon,isSelected:t._id===e.selectedEvent._id?"true":"false",position:[t.location.latitude,t.location.longitude],eventHandlers:{click:function(){r(g(t))}},children:Object(a.jsxs)(Oe.a,{children:[Object(a.jsx)("span",{children:t.name}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:ge()(t.date).format("dddd, MMMM Do YYYY")}),Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:t.startTime})]})},"event-".concat(n))}))]},Object(ye.v4)())})},we=n(361),ke=function(e){var t=e.type,n=Object(c.useState)(!1),r=Object(re.a)(n,2),s=r[0],i=r[1];return Object(a.jsxs)("div",{className:"map",children:[Object(a.jsxs)(se.a,{center:[0,0],zoom:2,children:[Object(a.jsx)(ie.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),function(){switch(t){case"displayLocation":return Object(a.jsx)(je,{});case"setLocation":return Object(a.jsx)(ve,{setLoading:i});case"editLocation":return Object(a.jsx)(he,{});case"cluster":return Object(a.jsx)(Ee,{})}}()]}),s?Object(a.jsx)(we.a,{color:"secondary"}):null]})},Ne=Object(ae.a)((function(e){return{root:{width:28,height:16,padding:0,display:"flex"},switchBase:{padding:2,color:e.palette.error.light,"&$checked":{transform:"translateX(12px)",color:e.palette.common.white,"& + $track":{opacity:1,backgroundColor:e.palette.primary.main,borderColor:e.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:"none"},track:{border:"1px solid ".concat(e.palette.grey[500]),borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(ce.a);var Ce=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.eventsInfo.toggleMyEvents}));return Object(l.f)(),Object(c.useEffect)((function(){e(f(t))}),[]),Object(a.jsxs)("div",{className:"dashboard",children:[Object(a.jsxs)("div",{className:"switchWrapper",children:[Object(a.jsx)("span",{style:{fontSize:"12px",padding:"0 10px"},children:"My Events"}),Object(a.jsx)(Ne,{checked:!t,onChange:function(n){e(f(!t))},name:"publicEvent"}),Object(a.jsx)("span",{style:{fontSize:"12px",padding:"0 10px"},children:"Public Events"})]}),Object(a.jsxs)("div",{className:"list-and-map",children:[Object(a.jsx)(ne,{}),Object(a.jsx)("div",{className:"map-wrapper",children:Object(a.jsx)(ke,{type:"cluster"})})]})]})},Ie=n(12),Se=n(380),Le=n(26),Me=n(363),Te=n(386),_e=(n(267),n(125));ge()().format();var De=["Soccer","Hockey","Baseball","Football","Cricket","Handball","Rugby","Tennis","Volleyball","Golf"];var Fe=function(){var e=Object(c.useRef)(null),t=Object(l.f)(),n=Object(p.b)(),r=Object(c.useState)(!0),s=Object(re.a)(r,2),i=s[0],o=s[1],d=Object(p.c)((function(e){return e.eventsInfo})).createEventLocation,b=Object(c.useState)(ge()()),O=Object(re.a)(b,2),f=O[0],x=O[1],g=Object(c.useState)(ge()()),y=Object(re.a)(g,2),C=y[0],I=y[1],S=Object(c.useState)(d.address),L=Object(re.a)(S,2),M=L[0],T=L[1],_=Object(c.useState)(!0),D=Object(re.a)(_,2),F=D[0],P=D[1],A=Object(c.useState)({eventNameError:!1,sportNameError:!1,descriptionError:!1}),R=Object(re.a)(A,2),B=R[0],Y=R[1];Object(c.useEffect)((function(){T(d.address),P(!1)}),[d]);var $=function(){var a=Object(j.a)(u.a.mark((function a(c){var r,s,o;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),!(e.current.eventName.value&&e.current.sportName.value&&e.current.description.value)){a.next=17;break}return r={name:e.current.eventName.value,type:e.current.sportName.value,icon:"Sports".concat(e.current.sportName.value,"OutlinedIcon"),location:{address:d.address,latitude:d.lat,longitude:d.lng},description:e.current.description.value,startTime:C.format("LT"),date:f,public:i},s={method:"post",data:r,url:"/api/createEvent",headers:{"Content-Type":"application/json"}},a.prev=4,a.next=7,v()(s);case 7:(o=a.sent)&&!0===o.data.response&&(n(m()),h.b.success("Event has been created"),t.push("/")),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(4),console.log(a.t0),h.b.error("Something went wrong. Please try again later");case 15:a.next=18;break;case 17:Y({eventNameError:!0,sportNameError:!0,descriptionError:!0});case 18:case"end":return a.stop()}}),a,null,[[4,11]])})));return function(e){return a.apply(this,arguments)}}(),z=Object(ae.a)((function(e){return{root:{width:28,height:16,padding:0,display:"flex"},switchBase:{padding:2,color:e.palette.error.light,"&$checked":{transform:"translateX(12px)",color:e.palette.primary.main,"& + $track":{opacity:1,backgroundColor:e.palette.common.white,borderColor:e.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:"none"},track:{border:"1px solid ".concat(e.palette.grey[500]),borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(ce.a);return Object(a.jsxs)("div",{className:"create-event",children:[Object(a.jsxs)("form",{ref:e,children:[Object(a.jsxs)(Le.a,{utils:_e.a,children:[Object(a.jsx)(N.a,{variant:"h4",style:{margin:"0 0 40px 0"},gutterBottom:!0,children:"Create Event"}),Object(a.jsxs)(k.a,{container:!0,spacing:3,children:[Object(a.jsx)(k.a,{item:!0,xs:12,children:Object(a.jsxs)(k.a,{component:"label",container:!0,alignItems:"center",spacing:1,children:[Object(a.jsx)(k.a,{item:!0,children:"Private"}),Object(a.jsx)(k.a,{item:!0,children:Object(a.jsx)(z,{checked:i,onChange:function(e){o(!i)},name:"publicEvent"})}),Object(a.jsx)(k.a,{item:!0,children:"Public"})]})}),Object(a.jsx)(k.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{required:!0,id:"eventName",name:"eventName",error:B.eventNameError,label:"Event Name",fullWidth:!0,autoComplete:"given-name",onChange:function(e){e.target.value&&Y(Object(Ie.a)(Object(Ie.a)({},B),{},{eventNameError:!1}))},onBlur:function(e){e.target.value?Y(Object(Ie.a)(Object(Ie.a)({},B),{},{eventNameError:!1})):Y(Object(Ie.a)(Object(Ie.a)({},B),{},{eventNameError:!0}))}})}),Object(a.jsx)(k.a,{item:!0,xs:12,children:Object(a.jsx)(Se.a,{required:!0,fullWidth:!0,freeSolo:!0,options:De.map((function(e){return e})),renderInput:function(e){return Object(a.jsx)(w.a,Object(Ie.a)(Object(Ie.a)({},e),{},{id:"sport",error:B.sportNameError,name:"sportName",label:"Sport",margin:"normal",variant:"outlined",onChange:function(e){e.target.value&&Y(Object(Ie.a)(Object(Ie.a)({},B),{},{sportNameError:!1}))},onBlur:function(e){e.target.value?Y(Object(Ie.a)(Object(Ie.a)({},B),{},{sportNameError:!1})):Y(Object(Ie.a)(Object(Ie.a)({},B),{},{sportNameError:!0}))}}))}})}),Object(a.jsx)(k.a,{item:!0,xs:6,children:Object(a.jsx)(Me.a,{margin:"normal",id:"date-picker-dialog",label:"Date",format:"MM/DD/yyyy",value:f,onChange:function(e){x(e)},KeyboardButtonProps:{"aria-label":"change date"}})}),Object(a.jsx)(k.a,{item:!0,xs:6,children:Object(a.jsx)(Te.a,{margin:"normal",id:"time-picker",label:"Start Time",value:C,onChange:function(e){I(e)},KeyboardButtonProps:{"aria-label":"change time"}})}),Object(a.jsxs)(k.a,{item:!0,xs:12,children:[Object(a.jsx)(w.a,{required:!0,id:"address",name:"address",label:"Address",fullWidth:!0,autoComplete:"address",value:M,onChange:function(e){T(e.target.value)},onBlur:function(e){P(!0),n(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c,r,s,i,o,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/api/nominatim/setLatLng/".concat(e),c={method:"get",url:a},t.prev=2,t.next=5,v()(c);case 5:r=t.sent,s=r.data,console.log(s),s[0].display_name?((i=s[0].display_name.split(",")).splice(4,2),i.splice(2,1),o=i.map((function(e,t){return 0===t||t===i.length-1?e:e+","})),l=o.join(""),n({type:"SETLATLNG",payload:{coords:[s[0].lat,s[0].lon],address:l}})):n({type:"SETLATLNG",payload:{coords:[0,0],address:""}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),h.b.error(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()}(M))}}),F?Object(a.jsx)(we.a,{color:"secondary"}):null]}),Object(a.jsx)(k.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{required:!0,id:"description",name:"description",error:B.descriptionError,label:"Event Description",fullWidth:!0,multiline:!0,onChange:function(e){e.target.value&&Y(Object(Ie.a)(Object(Ie.a)({},B),{},{descriptionError:!1}))},onBlur:function(e){e.target.value?Y(Object(Ie.a)(Object(Ie.a)({},B),{},{descriptionError:!1})):Y(Object(Ie.a)(Object(Ie.a)({},B),{},{descriptionError:!0}))}})})]})]}),Object(a.jsx)(E.a,{variant:"contained",style:{margin:"40px 0 0 0"},onClick:$,children:"Create Event"})]}),Object(a.jsx)("div",{className:"mapHolder",children:Object(a.jsx)(ke,{type:"setLocation"})})]})},Pe=n(197),Ae=(n(132),n(382));function Re(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var Be=Object(C.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),display:"flex",flexDirection:"column","@media (max-width: 1000px)":{width:200}}}}));function Ye(e){var t=Be(),n=r.a.useState(Re),s=Object(re.a)(n,1)[0],i=r.a.useState(!1),o=Object(re.a)(i,2),l=o[0],d=o[1],b=r.a.useState(!1),O=Object(re.a)(b,2),m=O[0],f=O[1],x=Object(p.b)(),g=Object(c.useRef)(null),y=function(){d(!1)},E=Object(a.jsxs)("div",{style:s,className:t.paper,children:[Object(a.jsx)("h2",{id:"simple-modal-title",children:"What name should we use?"}),Object(a.jsx)(w.a,{error:m,id:"standard-basic",label:"username",inputRef:g,inputProps:{maxLength:15}}),Object(a.jsx)("button",{style:{marginTop:"20px"},onClick:function(){if(g.current.value){var t={participantsName:g.current.value,id:e.eventId};x(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"put",url:"/api/joinEvent",headers:{"Content-Type":"application/json"},data:e},t.prev=1,t.next=4,v()(a);case 4:(c=t.sent)&&!0===c.data.response?(n({type:"selectEvent",payload:c.data._doc}),h.b.success("You have joined this event as ".concat(e.participantsName))):h.b.warn(c.data.message),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),h.b.error("Something went wrong! Please try again later");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(t)),e.setJoined(!0),y()}else f(!0)},children:"Join Event"})]});return Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:e.btnStyle,type:"button",onClick:function(){d(!0)},disabled:e.disabled,children:e.children}),Object(a.jsx)(Ae.a,{open:l,onClose:y,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:E})]})}var $e=n(365),ze=n(366),Ve=n(200),Ge=n.n(Ve),He=n(201),We=n.n(He),Je=n(94),qe=n.n(Je);var Ke=function(e){var t=e.eventInfo,n=qe.a.getSocket(),r=Object(c.useState)(""),s=Object(re.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(t.selectedEvent.participants),d=Object(re.a)(l,2),b=d[0],O=d[1],m=Object(p.b)();function f(e){var n;console.dir(e.currentTarget.getAttribute("data-id")),m((n={participantId:e.currentTarget.getAttribute("data-id"),selectedEventId:t.selectedEvent._id},function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"delete",url:"/api/removeParticipant",headers:{"Content-Type":"application/json"},data:n},e.prev=1,e.next=4,v()(a);case 4:(c=e.sent)&&!0===c.data.response?(t({type:"selectEvent",payload:c.data.updatedEvent}),h.b.success("You have left this event")):h.b.warn(c.data.message),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h.b.error("Something went wrong! Please try again later");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()))}return Object(c.useEffect)((function(){n.on("update participants",(function(e){O(e)}));var e=document.cookie.replace(/(?:(?:^|.*;\s*)userId\s*\=\s*([^;]*).*$)|^.*$/,"$1");o(e)}),[]),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Participants"}),Object(a.jsx)(ee.a,{component:"nav","aria-label":"contacts",children:b&&b.map((function(e,t){return Object(a.jsxs)("div",{children:[Object(a.jsxs)(I.a,{children:[Object(a.jsx)($e.a,{children:Object(a.jsx)(Ge.a,{})}),Object(a.jsx)(S.a,{primary:e.name}),i.includes(e.userId)?Object(a.jsx)("div",{className:"remove-icon-wrapper","data-id":e.userId,onClick:f,children:Object(a.jsx)(We.a,{})}):null]}),Object(a.jsx)(ze.a,{})]},t)}))})]})},Xe=n(367),Ue=n(369),Qe=n(371),Ze=n(373),et=n(375),tt=n(368),nt=n(370),at=n(372),ct=n(374),rt=n(376);n(299);var st=function(e){var t=e.eventId,n="https://www.letsplay.gdn/event-information?id=".concat(t),r=Object(c.useRef)(null);return Object(a.jsxs)("div",{className:"share",children:[Object(a.jsx)("h1",{children:"SHARE"}),Object(a.jsx)("div",{className:"minified-url-wrapper",onClick:function(){r.current.select(),r.current.setSelectionRange(0,9999),document.execCommand("copy"),Object(h.b)("".concat(n," copied to clipboard"))},children:Object(a.jsx)("input",{ref:r,value:n,readOnly:!0})}),Object(a.jsxs)("div",{className:"share-button-wrapper",children:[Object(a.jsx)(Xe.a,{url:n,children:Object(a.jsx)(tt.a,{size:45,round:!0})}),Object(a.jsx)(Ue.a,{url:n,children:Object(a.jsx)(nt.a,{size:45,round:!0})}),Object(a.jsx)(Qe.a,{url:n,children:Object(a.jsx)(at.a,{size:45,round:!0})}),Object(a.jsx)(Ze.a,{url:n,children:Object(a.jsx)(ct.a,{size:45,round:!0})}),Object(a.jsx)(et.a,{url:n,children:Object(a.jsx)(rt.a,{size:45,round:!0})})]})]})};ge()().format();var it=function(e){var t=Object(c.useState)(!1),n=Object(re.a)(t,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)userId\s*\=\s*([^;]*).*$)|^.*$/,"$1"),n=e.eventInfo.selectedEvent.participants.some((function(e){return t.includes(e.userId)}));s(n)}),[]),Object(a.jsx)(a.Fragment,{children:e.eventInfo.selectedEvent&&Object.keys(e.eventInfo.selectedEvent).length>0?Object(a.jsxs)("div",{className:"body-container",children:[Object(a.jsx)("h1",{children:e.eventInfo.selectedEvent.name}),Object(a.jsx)("div",{className:"map-wrapper",children:Object(a.jsx)(ke,{type:"displayLocation"})}),Object(a.jsxs)("div",{className:"event-details",children:[Object(a.jsx)("p",{className:"description-wrapper",children:e.eventInfo.selectedEvent.description}),Object(a.jsxs)("div",{className:"time-public-wrapper",children:[Object(a.jsxs)("div",{className:"address-wrapper",children:["Address:",Object(a.jsxs)("span",{style:{color:"white"},children:[" ",e.eventInfo.selectedEvent.location.address]})]}),Object(a.jsxs)("div",{className:"date-wrapper",children:["Date:",Object(a.jsxs)("span",{style:{color:"white"},children:[" ",ge()(e.eventInfo.selectedEvent.date).format("dddd, MMMM Do YYYY")]})]}),Object(a.jsxs)("div",{className:"time-wrapper",children:["Start time:",Object(a.jsxs)("span",{style:{color:"white"},children:[" ",e.eventInfo.selectedEvent.startTime]})]}),Object(a.jsx)("div",{className:"public-wrapper",children:Object(a.jsxs)("span",{children:["This is a",e.eventInfo.selectedEvent.public?Object(a.jsx)("span",{style:{color:"blue"},children:" public "}):Object(a.jsx)("span",{style:{color:"red"},children:" private "}),"event"]})})]})]}),Object(a.jsxs)("div",{className:"button-wrapper",children:[e.admin?Object(a.jsxs)("div",{className:"admin-btns",children:[Object(a.jsx)(E.a,{onClick:e.handleEdit,children:"Edit"}),Object(a.jsx)(E.a,{className:"warning-btn",onClick:e.handleDelete,children:"Delete"})]}):"",Object(a.jsx)(Ye,{btnStyle:"success-btn",eventId:e.eventInfo.selectedEvent._id,disabled:r,setJoined:s,children:"JOIN"})]})]}):""})};var ot=function(e){var t=Object(p.c)((function(e){return e.eventsInfo})),n=Object(p.b)(),r=Object(l.f)(),s=(Object(c.useRef)(null),Object(c.useState)(e.eventInfo.selectedEvent.public)),i=Object(re.a)(s,2),o=i[0],d=i[1],b=Object(p.c)((function(e){return e.eventsInfo})).createEventLocation,h=Object(c.useState)(ge()()),O=Object(re.a)(h,2),m=(O[0],O[1],Object(c.useState)(ge()())),f=Object(re.a)(m,2),g=f[0],y=f[1],k=Object(c.useState)(e.eventInfo.selectedEvent.name),N=Object(re.a)(k,2),C=N[0],I=N[1],S=Object(c.useState)(e.eventInfo.selectedEvent.description),L=Object(re.a)(S,2),M=L[0],T=L[1];Object(c.useEffect)((function(){0===Object.keys(t.selectedEvent).length&&n(x(r.location.search.split("=")[1]))}),[]);var _=function(){var t=Object(j.a)(u.a.mark((function t(){var a,c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={id:e.eventInfo.selectedEvent._id,name:C,location:{address:e.eventInfo.selectedEvent.location.address,latitude:b.lat,longitude:b.lng},description:M,startTime:g.format("LT"),public:o},c={method:"put",data:a,url:"/api/updateEvent",headers:{"Content-Type":"application/json"}},t.prev=2,t.next=5,v()(c);case 5:(r=t.sent)&&!0===r.data.response&&(n(x(r.data._doc._id)),e.toggleEditMode()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),D=Object(ae.a)((function(e){return{root:{width:28,height:16,padding:0,display:"flex"},switchBase:{padding:2,color:e.palette.error.light,"&$checked":{transform:"translateX(12px)",color:e.palette.primary.main,"& + $track":{opacity:1,backgroundColor:e.palette.common.white,borderColor:e.palette.primary.main}}},thumb:{width:12,height:12,boxShadow:"none"},track:{border:"1px solid ".concat(e.palette.grey[500]),borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}}))(ce.a);return Object(a.jsx)(a.Fragment,{children:e.eventInfo.selectedEvent&&Object.keys(e.eventInfo.selectedEvent).length>0?Object(a.jsx)("div",{className:"body-container",children:Object(a.jsxs)(Le.a,{utils:_e.a,children:[Object(a.jsx)("div",{children:Object(a.jsx)(w.a,{required:!0,id:"eventName",name:"eventName",label:"Event Name",value:C,onChange:function(e){I(e.target.value)},fullWidth:!0,autoComplete:"given-name"})}),Object(a.jsx)(w.a,{required:!0,id:"description",name:"description",label:"Event Description",value:M,onChange:function(e){T(e.target.value)},fullWidth:!0}),Object(a.jsxs)("div",{className:"time-public-wrapper",children:[Object(a.jsx)("div",{className:"time-wrapper",children:Object(a.jsx)(Te.a,{margin:"normal",id:"time-picker",label:"Start Time",value:g,onChange:function(e){y(e)},KeyboardButtonProps:{"aria-label":"change time"}})}),Object(a.jsxs)("div",{className:"public-wrapper",children:[Object(a.jsx)("span",{children:"Private"}),Object(a.jsx)(D,{checked:o,onChange:function(e){d(!o)},name:"publicEvent"}),Object(a.jsx)("span",{children:"Public"})]})]}),Object(a.jsx)("div",{className:"map-wrapper",children:Object(a.jsx)(ke,{type:"editLocation"})}),Object(a.jsxs)("div",{className:"button-wrapper",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(E.a,{onClick:_,children:"Update"}),Object(a.jsx)(E.a,{onClick:function(){e.toggleEditMode()},children:"Cancel"})]}),Object(a.jsx)(Ye,{eventId:e.eventInfo.selectedEvent._id,children:"JOIN"})]})]})}):""})};var lt=function(){var e=qe.a.getSocket(),t=Object(p.c)((function(e){return e.eventsInfo})),n=Object(c.useState)(!1),r=Object(re.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(!1),d=Object(re.a)(o,2),b=d[0],O=d[1],m=Object(p.b)(),f=Object(l.f)();Object(c.useEffect)((function(){0===Object.keys(t.selectedEvent).length&&m(x(f.location.search.split("=")[1]))}),[]),Object(c.useEffect)((function(){t.selectedEvent._id&&e.emit("join room",t.selectedEvent._id);var n=document.cookie.replace(/(?:(?:^|.*;\s*)userId\s*\=\s*([^;]*).*$)|^.*$/,"$1");n&&n.includes(t.selectedEvent.creator)?O(!0):O(!1)}),[t]);var g=function(){i(!s)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Pe.a,{children:[Object(a.jsx)("meta",{charSet:"utf-8"}),Object(a.jsx)("meta",{name:"description",content:"Inviting you to join "+t.selectedEvent.name+" with Lets Play"})]}),t.selectedEvent&&Object.keys(t.selectedEvent).length>0?Object(a.jsxs)("div",{className:"eventInformation",children:[Object(a.jsxs)("div",{className:"sidebar",children:[Object(a.jsx)("div",{className:"participants-wrapper",children:Object(a.jsx)(Ke,{eventInfo:t})}),Object(a.jsx)(st,{eventId:f.location.search.split("=")[1]})]}),s?Object(a.jsx)(ot,{eventInfo:t,toggleEditMode:g}):Object(a.jsx)(it,{eventInfo:t,admin:b,handleEdit:g,handleDelete:function(){var e;m((e={id:t.selectedEvent._id},function(){var t=Object(j.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={method:"delete",url:"/api/deleteEvent",headers:{"Content-Type":"application/json"},data:e},t.prev=1,t.next=4,v()(a);case 4:(c=t.sent)&&!0===c.data.response?(n({type:"deleteEvent",payload:c.data._doc}),h.b.success("You have deleted ".concat(c.data.name))):h.b.warn(c.data.message),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),h.b.error("Something went wrong! Please try again later");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())),f.push("/")}})]}):""]})},dt=n(76),ut=(n(300),n(10)),jt=n(378),pt=n(364),bt=n(208),vt=n(384),ht=n(377),Ot=n(206),mt=n(203),ft=n.n(mt),xt=n(204),gt=n.n(xt),yt=Object(C.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(dt.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(dt.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ut.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ut.d)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(dt.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(dt.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(dt.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}));var Et=function(){var e=Object(p.b)(),t=Object(l.f)(),n=(Object(p.c)((function(e){return e.eventsInfo})),yt()),c=r.a.useState(null),s=Object(re.a)(c,2),i=s[0],d=s[1],u=r.a.useState(null),j=Object(re.a)(u,2),b=j[0],v=j[1],h=Boolean(i),O=Boolean(b),m=function(){v(null)},f=function(){d(null),m()},x=function(){t.push("/create-event")},g=Object(a.jsxs)(Ot.a,{anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:f,children:[Object(a.jsx)(ht.a,{onClick:f,children:"Profile"}),Object(a.jsx)(ht.a,{onClick:f,children:"My account"})]}),y="primary-search-account-menu-mobile",w=Object(a.jsx)(Ot.a,{anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},id:y,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:O,onClose:m,children:Object(a.jsx)(ht.a,{onClick:x,children:"Create Event"})});return Object(a.jsx)("div",{className:"navbar",children:Object(a.jsxs)("div",{className:n.grow,children:[Object(a.jsx)(jt.a,{position:"static",children:Object(a.jsxs)(pt.a,{children:[Object(a.jsx)(N.a,{className:n.title,variant:"h6",noWrap:!0,children:Object(a.jsx)(o.b,{to:"/",style:{textDecoration:"none",color:"white"},children:"LetsPlay!"})}),Object(a.jsxs)("div",{className:n.search,children:[Object(a.jsx)("div",{className:n.searchIcon,children:Object(a.jsx)(ft.a,{})}),Object(a.jsx)(vt.a,{placeholder:"Search\u2026",onChange:function(t){e({type:"SEARCH_EVENT",payload:t.target.value.toLowerCase()})},classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"}})]}),Object(a.jsx)("div",{className:n.grow}),Object(a.jsx)("div",{className:n.sectionDesktop,children:"/create-event"!=t.location.pathname?Object(a.jsx)(E.a,{variant:"contained",color:"primary",onClick:x,children:"Create Event"}):""}),Object(a.jsx)("div",{className:n.sectionMobile,children:Object(a.jsx)(bt.a,{"aria-label":"show more","aria-controls":y,"aria-haspopup":"true",onClick:function(e){v(e.currentTarget)},color:"inherit",children:Object(a.jsx)(gt.a,{})})})]})}),w,g]})})};n(301);qe.a.init();var wt=function(){return v.a.defaults.withCredentials=!0,Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(h.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(a.jsxs)(o.a,{children:[Object(a.jsx)(Et,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(Ce,{})}),Object(a.jsx)(l.a,{path:"/create-event",children:Object(a.jsx)(Fe,{})}),Object(a.jsx)(l.a,{path:"/event-information",children:Object(a.jsx)(lt,{})})]})]})]})},kt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,388)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},Nt=n(81),Ct=n(205),It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authenticated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return{authenticated:!0,username:t.payload.username,userId:t.payload._id,events:t.payload.events};case"SIGN_OUT":return{authenticated:!1,username:"",userId:""};default:return e}},St={events:[],selectedEvent:{},myEvents:[],toggleMyEvents:!1,createEventLocation:{lat:0,lng:0,address:""},searchEvent:""},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_EVENT":return Object(Ie.a)(Object(Ie.a)({},e),{},{searchEvent:t.payload});case"SETLATLNG":return Object(Ie.a)(Object(Ie.a)({},e),{},{createEventLocation:{lat:t.payload.coords[0],lng:t.payload.coords[1],address:t.payload.address}});case"getEvents":return Object(Ie.a)(Object(Ie.a)({},e),{},{events:t.payload.data.events});case"selectEvent":return Object(Ie.a)(Object(Ie.a)({},e),{},{selectedEvent:t.payload});case"deleteEvent":return Object(Ie.a)({},e);case"toggleMyEvents":return Object(Ie.a)(Object(Ie.a)({},e),{},{toggleMyEvents:t.payload.toggle,myEvents:t.payload.response.data.myEvents});default:return e}},Mt=Object(Nt.c)({user:It,eventsInfo:Lt}),Tt=Object(Nt.d)(Mt,Object(Nt.a)(Ct.a));i.a.render(Object(a.jsx)(p.a,{store:Tt,children:Object(a.jsx)(wt,{})}),document.getElementById("root")),kt()},94:function(e,t,n){var a,c=n(268);e.exports={init:function(){return a=c("/")},getSocket:function(){return a}}}},[[302,1,2]]]);
//# sourceMappingURL=main.07c1f913.chunk.js.map